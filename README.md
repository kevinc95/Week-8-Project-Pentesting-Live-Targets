# Project 8 - Pentesting Live Targets

Time spent: **11** hours spent in total

> Objective: Identify vulnerabilities in three different versions of the Globitek website: blue, green, and red.

The six possible exploits are:
* Username Enumeration 
* Insecure Direct Object Reference (IDOR) 
* SQL Injection (SQLi)
* Cross-Site Scripting (XSS)
* Cross-Site Request Forgery (CSRF)
* Session Hijacking/Fixation

Each version of the site has been given two of the six vulnerabilities. (In other words, all six of the exploits should be assignable to one of the sites.)

## Blue

Vulnerability #1: SQL Injection (SQLi)

![alt text](sqli.gif)

* In the /public/salesperson.php?id=xxx section of the site, whenever I inject SQL code along the lines of **n'**, where n is any integer, into the id query section of the url for the red and green site, it simply redirects me back to Find a Salesperson page. However, with the blue site I get a **Database query failed** response, implying a SQL Injection vulnerability.

Vulnerability #2: Session Hijacking/Fixation

![alt text](session_hijack.gif)

* I took the PHPSESSIONID from my target session on Google Chrome, and updated my PHPSESSIONID to be the same on my attack session on Internet Explorer. When I logged in as Admin on Google Chrome, I simply refreshed my Login page on Internet Explorer to be logged in there as well.


## Green

Vulnerability #1: Username Enumeration 

![alt text](user_enum.gif)

* Whenever I attempted to login with the existing username 'jmonroe99' or a non-existent username, the blue and red site returned **Log in was unsuccessful** in bold. However, the green site varies a little by returning **Log in was unsuccessful** not in bold when I enter a non-existent username. 

Vulnerability #2: Cross-Site Scripting (XSS)

![alt text](xss.gif)

* Stored XSS occurs when you send javascript code through the feedback page. The code is executed when feedback button is pressed on in the Admin account.


## Red

Vulnerability #1: Insecure Direct Object Reference (IDOR)

![alt text](idor.gif)

* In the /public/salesperson.php?id=xxx section of the site, whenever I try to enter an integer greater than 9 into the id query section of the url, the blue and green site will redirect me back to the Find a Salesman page. This is probably because that is the end of all the public information we can look at. However, the red site makes a mistake. When I enter integers 10 and 11 into the url, both values return pages with private information of Globitek. It's only when I enter 12 that the site redirects me.

Vulnerability #2: Cross-Site Request Forgery (CSRF)

![alt text](csrf.gif)

* When a send my malicious script(CSRF.html) through as a link in a feedback, the Admin can go to that link and have their database infected since the script now has heightened access.  


## Notes

SQL Injection and Cross-Site Request Forgery were not my strongest exploits, but I was able to find the holes eventually.